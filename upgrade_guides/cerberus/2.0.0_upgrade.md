# Cosmovisor user Instructions
## cerberus v2.0.0 Upgrade

The Upgrade is scheduled for block `2828666`. A countdown clock is [here](https://www.mintscan.io/cerberus/blocks/2828666)

This guide assumes that you use cosmovisor to manage upgrades. (Check the last section below for non-cosmovisor users)

```bash
# get the new version
cd cerberus
git pull
git checkout v2.0.0
make install
```

## check the version

```bash
# should be v2.0.0
cerberusd version
# Should be commit e634aa44d18bc0834c4c4a0a2d31a474285a4e35
cerberusd version --long
```

## Make new directory and copy binary

```bash
mkdir -p $HOME/.cerberus/cosmovisor/upgrades/cerbywasm/bin
cp $HOME/go/bin/cerberusd $HOME/.cerberus/cosmovisor/upgrades/cerbywasm/bin
```

## check the version again

```bash
# should be v2.0.0
$HOME/.cerberus/cosmovisor/upgrades/cerbywasm/bin/cerberusd version
```


# Instruction for non-Cosmovisor Users

In case of voted upgrades, non-Cosmovisor users do not need to perform any action.

When the block hits, the chain will halt automatically, showing a log-message requiring for the cerbywasm upgrade.

A convenient coundown is provided by mintscan:
https://www.mintscan.io/cerberus/blocks/2828666

Check in your logs if your node has hit the block:
```bash
journalctl -u cerberusd -f
```

If the block has hit:

```bash
# stop the service again, just in case
sudo systemctl stop cerberusd
# get the new version
cd cerberus
git pull
git checkout v2.0.0
make install
```

## check the version

```bash
# should be v2.0.0
cerberusd version
# Should be commit e634aa44d18bc0834c4c4a0a2d31a474285a4e35
cerberusd version --long
```

## run again cerberus
```bash
sudo systemctl start cerberusd
```

## check the logs:
```bash
journalctl -u cerberusd -f
```
